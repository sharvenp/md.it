{"version":3,"file":"js/app.515bd43b.js","mappings":"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","sources":["webpack://md.it/./src/App.vue","webpack://md.it/./src/components/Editor.vue","webpack://md.it/./src/components/ToolBar.vue","webpack://md.it/./src/components/ToolBar.vue?afa6","webpack://md.it/./src/components/TitleBar.vue","webpack://md.it/./src/ipcCommands.js","webpack://md.it/./src/components/TitleBar.vue?d1a2","webpack://md.it/./src/components/Editor.vue?81e4","webpack://md.it/./src/App.vue?7ccd","webpack://md.it/./src/main.js","webpack://md.it/webpack/bootstrap","webpack://md.it/webpack/runtime/chunk loaded","webpack://md.it/webpack/runtime/compat get default export","webpack://md.it/webpack/runtime/define property getters","webpack://md.it/webpack/runtime/global","webpack://md.it/webpack/runtime/hasOwnProperty shorthand","webpack://md.it/webpack/runtime/make namespace object","webpack://md.it/webpack/runtime/publicPath","webpack://md.it/webpack/runtime/jsonp chunk loading","webpack://md.it/webpack/startup"],"sourcesContent":["<template>\n\t<EditorV />\n</template>\n\n<script>\nimport EditorV from \"./components/Editor.vue\";\n\nexport default {\n\tname: \"App\",\n\tcomponents: {\n\t\tEditorV,\n\t},\n};\n</script>\n","<template>\n    <div class=\"view\">\n        <div class=\"row\">\n            <TitleBarV\n                :key=\"`${titleBarKey}`\"\n                :changeKey=\"`${titleBarKey}`\"\n                :modified=\"modified\"\n                :editorLocked=\"editorLocked\"\n                :current-theme=\"currentTheme\"\n                :isIPCSupported=\"isIPCSupported\"\n            />\n        </div>\n        <div class=\"row\">\n            <splitpanes class=\"default-theme\">\n                <pane v-if=\"showLeftPane\">\n                    <div id=\"editor-col\" class=\"p-0 column\">\n                        <codemirror v-model=\"inputText\"\n                        :style=\"{\n                            width: '100%',\n                            height: '100%',\n                        }\"\n                        placeholder=\"\"\n                        :autofocus=\"true\"\n                        :indent-with-tab=\"true\"\n                        :tab-size=\"2\"\n                        :extensions=\"codemirrorExtensions\"\n                        :disabled=\"editorLocked\"\n                        @ready=\"handleReady\"\n                        @change=\"onInputUpdate\" />\n                    </div>\n                </pane>\n                <pane v-if=\"showRightPane\">\n                    <div id=\"view-col\" class=\"p-0 column\" ref=\"viewer\">\n                        <div v-html=\"compiledMarkdown\" class=\"preview\"></div>\n                    </div>\n                </pane>\n            </splitpanes>\n        </div>\n        <div class=\"row\">\n            <ToolBarV\n                :editorLocked=\"editorLocked\"\n                :currentLayout=\"currentLayout\"\n                :spellCheck=\"spellCheck\"\n                :currentTheme=\"currentTheme\"\n                :scrollLink=\"scrollLink\"\n                :isIPCSupported=\"isIPCSupported\"\n                @toggle-spell-check=\"onSpellCheckToggle\"\n                @layout-change=\"onLayoutChange\"\n                @open-file=\"onOpenFile\"\n                @save-file=\"onSaveFile\"\n                @save-as-file=\"onSaveAsFile\"\n                @toggle-theme=\"onThemeToggle\"\n                @toggle-scroll-link=\"onScrollLinkToggle\"\n            />\n        </div>\n    </div>\n</template>\n\n<script>\nimport { shallowRef } from \"vue\";\nimport { Codemirror } from \"vue-codemirror\";\nimport { EditorView, keymap } from \"@codemirror/view\";\nimport { EditorSelection, Transaction, Text } from \"@codemirror/state\";\nimport { markdown } from \"@codemirror/lang-markdown\";\nimport { oneDark } from \"@codemirror/theme-one-dark\";\n\nimport { Splitpanes, Pane } from \"splitpanes\";\n\nimport MarkdownIt from 'markdown-it';\nimport MarkdownItInjectLineNumbers from \"markdown-it-inject-linenumbers\";\nimport MarkdownitSup from 'markdown-it-sup';\nimport MarkdownitCheckbox from 'markdown-it-task-checkbox';\nimport MarkdownitSub from 'markdown-it-sub';\nimport MarkdownitEmoji from 'markdown-it-emoji';\n\nimport DOMPurify from \"dompurify\";\n\nimport ToolBarV from \"./ToolBar.vue\";\nimport TitleBarV from \"./TitleBar.vue\";\nimport IPCCommands from \"@/ipcCommands\";\n\nexport default {\n    name: \"EditorV\",\n    components: {\n        Codemirror,\n        TitleBarV,\n        ToolBarV,\n        Splitpanes,\n        Pane,\n    },\n    data() {\n        return {\n            inputText: \"\",\n            titleBarKey: \"\",\n            modified: false,\n            currentLayout: 2,\n            currentTheme: false,\n            scrollLink: true,\n            spellCheck: false,\n            editorLocked: false,\n            fileOpened: false,\n            renderer: undefined,\n            md: undefined,\n            scrollMap: undefined,\n            scrollLock: [false, false],\n            isIPCSupported: false\n        };\n    },\n    setup() {\n        let createCustomKeyMod = (mod, key, insertChar) => {\n            let handler = ({ state, dispatch }) => {\n                const changes = state.changeByRange((range) => {\n                    const isAppliedBefore =\n                        state.sliceDoc(range.from - insertChar.length, range.from) ===\n                        insertChar;\n                    const isAppliedAfter =\n                        state.sliceDoc(range.to, range.to + insertChar.length) ===\n                        insertChar;\n                    const changes = [];\n\n                    changes.push(\n                        isAppliedBefore\n                            ? {\n                                from: range.from - insertChar.length,\n                                to: range.from,\n                                insert: Text.of([\"\"]),\n                            }\n                            : {\n                                from: range.from,\n                                insert: Text.of([insertChar]),\n                            }\n                    );\n\n                    changes.push(\n                        isAppliedAfter\n                            ? {\n                                from: range.to,\n                                to: range.to + insertChar.length,\n                                insert: Text.of([\"\"]),\n                            }\n                            : {\n                                from: range.to,\n                                insert: Text.of([insertChar]),\n                            }\n                    );\n\n                    const extendBefore = isAppliedBefore\n                        ? -insertChar.length\n                        : insertChar.length;\n                    const extendAfter = isAppliedAfter\n                        ? -insertChar.length\n                        : insertChar.length;\n\n                    return {\n                        changes,\n                        range: EditorSelection.range(\n                            range.from + extendBefore,\n                            range.to + extendAfter\n                        ),\n                    };\n                });\n                dispatch(\n                    state.update(changes, {\n                        scrollIntoView: true,\n                        annotations: Transaction.userEvent.of(\"input\"),\n                    })\n                );\n                return true;\n            };\n            return [\n                {\n                    key: `${mod}-${key.toUpperCase()}`,\n                    run: handler,\n                },\n                {\n                    key: `${mod}-${key.toLowerCase()}`,\n                    run: handler,\n                },\n            ];\n        };\n\n        const codemirrorView = shallowRef();\n        const handleReady = (payload) => {\n            codemirrorView.value = payload.view\n        }\n\n        const extensions = [\n            markdown(),\n            EditorView.lineWrapping,\n            keymap.of([\n                ...createCustomKeyMod(\"Mod\", \"b\", \"**\"),\n                ...createCustomKeyMod(\"Mod\", \"e\", \"_\"),\n                ...createCustomKeyMod(\"Mod\", \"k\", \"`\"),\n                ...createCustomKeyMod(\"Mod-Shift\", \"d\", \"~~\"),\n            ]),\n        ];\n        return {\n            extensions,\n            handleReady,\n            codemirrorView\n        };\n    },\n    computed: {\n        compiledMarkdown: function () {\n            return DOMPurify.sanitize(\n                this.md?.render(this.inputText) ?? \"\"\n            );\n        },\n        showLeftPane() {\n            return this.currentLayout === 1 || this.currentLayout === 2;\n        },\n        showRightPane() {\n            return this.currentLayout === 0 || this.currentLayout === 2;\n        },\n        codemirrorExtensions() {\n            return this.currentTheme ? this.extensions : [...this.extensions, oneDark]\n        }\n    },\n    created() {\n        this.isIPCSupported = window.ipcRenderer !== undefined && window.ipcRenderer !== null;\n    },\n    async beforeMount() {\n        // pull data if there is any\n        // this is used for cases where the user opens file with the \"Open with\" context menu option\n        let data = await this.ipcCallWrapper(IPCCommands.GET_OPEN_DATA);\n        if (data !== undefined && data[1] !== undefined) {\n            this.inputText = data[0];\n            this.fileOpened = false;\n            this.modified = false;\n            this.ipcCallWrapper(IPCCommands.SET_MODIFIED, false, this.inputText);\n        }\n\n        let userPreferences = await this.getPreferences();\n        this.currentLayout = userPreferences?.currentLayout ?? 2;\n        this.spellCheck = userPreferences?.spellCheck ?? false;\n        this.currentTheme = userPreferences?.currentTheme ?? false;\n        this.scrollLink = userPreferences?.scrollLink ?? true;\n\n        // enable spellcheck\n        this.updateSpellCheck();\n\n        // update theme\n        this.updateTheme();\n\n        // setup listeners\n        this.setupListeners();\n    },\n    mounted() {\n\n        // setup markdown-it and add plugins\n        this.md = new MarkdownIt({\n            linkify: true,\n        }).use(MarkdownitSup)\n            .use(MarkdownItInjectLineNumbers)\n            .use(MarkdownitSub)\n            .use(MarkdownitEmoji)\n            .use(MarkdownitCheckbox, {\n                disabled: false,\n            });\n\n        // add hook to override target in anchor tags\n        DOMPurify.addHook(\"afterSanitizeAttributes\", function (node) {\n            if (\"target\" in node) {\n                node.setAttribute(\"target\", \"_blank\");\n            }\n        });\n    },\n    methods: {\n        /**\n         * Helper Functions\n        */\n        async ipcCallWrapper(...args) {\n            // call ipcRenderer only if it is defined\n            return await window.ipcRenderer?.call(...args)\n        },\n        setupListeners() {\n\n            // override the ctrl+s key combo\n            document.onkeydown = async (e) => {\n                let prevent = false;\n                if (e.ctrlKey) {\n                    if (e.code === \"KeyO\") {\n                        // open file\n                        await this.onOpenFile();\n                        prevent = true;\n                    } else if (e.code === \"KeyS\") {\n                        if (e.shiftKey) {\n                            // save as\n                            await this.onSaveAsFile();\n                            prevent = true;\n                        } else {\n                            // save\n                            await this.onSaveFile();\n                            prevent = true;\n                        }\n                    } else if (e.code === \"Tab\") {\n                        // focus open button (escape editor focus)\n                        document.getElementById(\"open-button\").focus();\n                        prevent = true;\n                    }\n                }\n\n                if (prevent) {\n                    e.preventDefault();\n                }\n            };\n\n            // setup resize listener\n            addEventListener(\"resize\", () => {\n                this.titleBarKey = Math.random().toString(); // Update the title bar\n                this.scrollMap = undefined;\n            });\n\n            // setup scroll listeners\n            this._setupScrollEventListeners();\n        },\n        /**\n         * Scroll Functions\n        */\n        _setupScrollEventListeners() {\n            let viewFunc = (event) => {\n                if (this.scrollLock[0]) {\n                    return;\n                }\n                this.syncEditorScroll(event);\n            };\n\n            let editorFunc = (event) => {\n                if (this.scrollLock[1]) {\n                    return;\n                }\n                this.syncViewerScroll(event);\n            };\n\n            // remove scroll event handlers\n            this.$refs.viewer?.removeEventListener('scroll', viewFunc);\n            this.codemirrorView.scrollDOM?.removeEventListener('scroll', editorFunc)\n\n            // setup scroll event handler\n            this.$refs.viewer?.addEventListener('scroll', viewFunc, false)\n            this.codemirrorView.scrollDOM?.addEventListener('scroll', editorFunc, false)\n        },\n        resetScroll() {\n            this.scrollLock = [true, true];\n            let viewer = this.$refs.viewer;\n            if (viewer) {\n                viewer.scrollTo({\n                    top: 0,\n                    behavior: 'instant'})\n            }\n            let editorScroller = this.codemirrorView.scrollDOM;\n            if (editorScroller) {\n                editorScroller.scrollTo({\n                    top: 0,\n                    behavior: 'instant'})\n            }\n            setTimeout(() => {\n                this.scrollLock = [false, false];\n            }, 50);\n        },\n        buildScrollMap() {\n            let editor = this.codemirrorView.scrollDOM;\n            let preview = this.$refs.viewer\n            if (!editor || !preview) {\n                return;\n            }\n\n            let offset = preview.scrollTop - preview.offsetTop;\n            let _scrollMap = new Array(this.codemirrorView.state.doc.lines).fill(0);\n            let editorLines = this.codemirrorView.state.doc.children.map(x => x.text).flat(1);\n            editorLines.forEach((str, i) => {\n                if (i === 0) {\n                    _scrollMap[i] = 0;\n                    return;\n                }\n\n                if (str.length === 0) {\n                    _scrollMap[i] = _scrollMap[i - 1] + 1;\n                    return;\n                }\n\n                let offsetTop = document.querySelector(`[data-source-line=\"${i}\"]`)?.offsetTop;\n                if (offsetTop !== undefined) {\n                    _scrollMap[i] = Math.floor(offsetTop + offset);\n                } else {\n                    _scrollMap[i] = _scrollMap[i - 1] + 1;\n                }\n            });\n\n            this.scrollMap = _scrollMap;\n        },\n        syncEditorScroll(event) {\n            if ((event && !event.target.matches(\":hover\")) || !this.scrollLink) {\n                return;\n            }\n\n            // sync editor\n            if (!this.scrollMap) {\n                this.buildScrollMap();\n            }\n            let preview = this.$refs.viewer;\n            let editorScroller = this.codemirrorView.scrollDOM;\n\n            if (!preview || !editorScroller || this.scrollMap.length < 1) {\n                return;\n            }\n\n            let el;\n            let min = Number.MAX_VALUE;\n            let els = document.querySelectorAll('[data-source-line]');\n            for (let i = 0; i < els.length; i++) {\n                let top = Math.abs(els[i].getBoundingClientRect().top);\n                if (top < min) {\n                    min = top;\n                    el = els[i];\n                }\n            }\n            let lineNo = parseInt(el?.dataset.sourceLine ?? 0);\n            editorScroller.scrollTo({\n                    top: lineNo * this.codemirrorView.defaultLineHeight,\n                    behavior: 'smooth'})\n\n            // lock the scroller of the editor until animation is complete\n            this.scrollLock[1] = true;\n            setTimeout(() => {\n                this.scrollLock[1] = false;\n            }, 200);\n        },\n        syncViewerScroll(event) {\n            if ((event && !event.target.matches(\":hover\")) || !this.scrollLink) {\n                return;\n            }\n\n            // sync preview\n            if (!this.scrollMap) {\n                this.buildScrollMap();\n            }\n            let preview = this.$refs.viewer;\n            let editorScroller = this.codemirrorView.scrollDOM;\n\n            if (!preview || !editorScroller) {\n                return;\n            }\n\n            let editorTopHeight = this.codemirrorView.lineBlockAtHeight(editorScroller.scrollTop).from;\n            let topLineNo = this.codemirrorView.state.doc.lineAt(editorTopHeight).number\n            preview.scrollTo({\n                    top: this.scrollMap[topLineNo - 1],\n                    behavior: 'smooth'})\n\n            // lock the scroller of the viewer until animation is complete\n            this.scrollLock[0] = true;\n            setTimeout(() => {\n                this.scrollLock[0] = false;\n            }, 200);\n        },\n        /**\n         * On Change Functions\n        */\n        onInputUpdate() {\n            if (this.fileOpened) {\n                this.fileOpened = false;\n                this.modified = false;\n                this.ipcCallWrapper(IPCCommands.SET_MODIFIED, false, this.inputText);\n            } else {\n                this.modified = true;\n                this.ipcCallWrapper(IPCCommands.SET_MODIFIED, true, this.inputText);\n            }\n            this.scrollMap = undefined;\n        },\n        /**\n         * IO Functions\n        */\n        async onOpenFile() {\n            if (this.editorLocked) {\n                return;\n            }\n            this.editorLocked = true;\n\n            if (this.isIPCSupported) {\n                // use IPC to handle open file\n                let data = await this.ipcCallWrapper(IPCCommands.OPEN_FILE);\n                if (data !== undefined) {\n                    this.fileOpened = true;\n                    this.inputText = data;\n\n                    this.resetScroll();\n                    this.scrollMap = undefined;\n                }\n            } else {\n                // use browser to handle open file\n                let inputEl = document.createElement('input');\n                inputEl.type = 'file';\n                inputEl.accept = \".txt,.md\"\n                inputEl.style.display = \"none\";\n                inputEl.onchange = () => {\n                    let files = Array.from(inputEl.files);\n                    if (files.length > 0) {\n                        let file = files[0];\n                        let reader = new FileReader();\n                        reader.readAsText(file);\n                        reader.onload = () => {\n                            this.fileOpened = true;\n                            this.inputText = reader.result;\n\n                            this.resetScroll();\n                            this.scrollMap = undefined;\n\n                            this.titleBarKey = Math.random().toString(); // Update the title bar\n                            this.modified = false;\n                            this.editorLocked = false;\n                        }\n                        inputEl.remove();\n                    }\n                };\n                inputEl.oncancel = () => {\n                    this.modified = false;\n                    this.editorLocked = false;\n                }\n                inputEl.click();\n            }\n\n            if (this.isIPCSupported) {\n                this.titleBarKey = Math.random().toString(); // Update the title bar\n                this.modified = false;\n                this.editorLocked = false;\n            }\n        },\n        async onSaveFile() {\n            if (this.editorLocked) {\n                return;\n            }\n            this.editorLocked = true;\n\n            if (this.isIPCSupported) {\n                // use IPC to handle save file\n                let result = await this.ipcCallWrapper(IPCCommands.SAVE_FILE, this.inputText);\n                if (result === 2) {\n                    // there is no existing file to save\n                    // so we defer to save-as file instead\n                    this.editorLocked = false;\n                    await this.onSaveAsFile();\n                } else if (result === 0) {\n                    this.modified = false;\n                    this.ipcCallWrapper(IPCCommands.SET_MODIFIED, false);\n                }\n            } else {\n                // defer to save as\n                this.editorLocked = false;\n                this.onSaveAsFile();\n            }\n\n\n            this.editorLocked = false;\n        },\n        async onSaveAsFile() {\n            if (this.editorLocked) {\n                return;\n            }\n\n            this.editorLocked = true;\n\n            if (this.isIPCSupported) {\n                // use IPC to handle save file\n                let result = await this.ipcCallWrapper(\n                    IPCCommands.SAVE_AS_FILE,\n                    this.inputText\n                );\n                if (result === 0) {\n                    this.modified = false;\n                    this.ipcCallWrapper(IPCCommands.SET_MODIFIED, false, this.inputText);\n                }\n            } else {\n                // use browser to handle save file\n                let fileBlob = new Blob([this.inputText], { type: 'text/plain' });\n                let fileNameToSaveAs = \"file.md\";\n\n                let downloadLink = document.createElement(\"a\");\n                downloadLink.download = fileNameToSaveAs;\n                downloadLink.innerHTML = \"Download File\";\n                downloadLink.style.display = \"none\";\n                if (window.webkitURL != null) {\n                    // Chrome allows the link to be clicked without actually adding it to the DOM.\n                    downloadLink.href = window.webkitURL.createObjectURL(fileBlob);\n                } else {\n                    // Firefox requires the link to be added to the DOM before it can be clicked.\n                    downloadLink.href = window.URL.createObjectURL(fileBlob);\n                    downloadLink.onclick = () => {\n                        downloadLink.remove();\n                        this.editorLocked = false;\n                    }\n                    document.body.appendChild(downloadLink);\n                }\n\n                downloadLink.click();\n            }\n\n            this.editorLocked = false;\n        },\n        /**\n         * Tool Bar Functions\n        */\n        onLayoutChange() {\n            this.currentLayout = (this.currentLayout + 1) % 3;\n\n            if (this.currentLayout === 2) {\n                this.$nextTick(() => {\n                    // set up scroll listeners again\n                    this._setupScrollEventListeners();\n                    this.scrollLock = [false, false];\n                    if (this.scrollLink) {\n                        this.syncViewerScroll();\n                    }\n                });\n                this.syncViewerScroll();\n            } else if (this.currentLayout > 0) {\n                this.$nextTick(() => {\n                    // set spell check\n                    this.updateSpellCheck();\n                });\n            }\n\n            this.updatePreferences();\n        },\n        onSpellCheckToggle() {\n            this.spellCheck = !this.spellCheck;\n            this.updateSpellCheck();\n            this.updatePreferences();\n        },\n        onThemeToggle() {\n            this.currentTheme = !this.currentTheme\n            this.updateTheme();\n            this.updatePreferences();\n        },\n        onScrollLinkToggle() {\n            this.scrollLink = !this.scrollLink\n            if (this.scrollLink) {\n                this.syncViewerScroll();\n            }\n            this.updatePreferences();\n        },\n        updateSpellCheck() {\n            let el = this.codemirrorView.contentDOM;\n            if (el) {\n                el.spellcheck = this.spellCheck;\n            }\n        },\n        updateTheme() {\n            if (this.currentTheme) {\n                document.documentElement.className = \"light-theme\";\n            } else {\n                document.documentElement.className = \"dark-theme\";\n            }\n        },\n        async getPreferences() {\n            if (this.isIPCSupported) {\n                // get preferences from file\n                return await this.ipcCallWrapper(IPCCommands.GET_PREFERENCES)\n            } else {\n                // get from local storage\n                return JSON.parse(localStorage?.getItem(\"preferences\"));\n            }\n        },\n        updatePreferences() {\n            let preferences = {\n                currentLayout: this.currentLayout,\n                spellCheck: this.spellCheck,\n                currentTheme: this.currentTheme,\n                scrollLink: this.scrollLink\n            };\n            if (this.isIPCSupported) {\n                // set preferences to file\n                this.ipcCallWrapper(IPCCommands.SET_PREFERENCES, preferences);\n            } else {\n                // set preferences to local storage\n                localStorage?.setItem('preferences', JSON.stringify(preferences))\n            }\n        },\n    },\n};\n</script>\n","<template>\n    <div class=\"bottom-bar\">\n        <div class=\"d-flex align-items-center bottom-flex-bar\">\n            <button id=\"open-button\" type=\"button\" title=\"Open\" :disabled=\"editorLocked\" :class=\"`btn btn-${buttonColorClass}`\"\n                @click=\"openFile\">\n                <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\" stroke-width=\"2\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                        d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" />\n                </svg> -->\n                <span>Open</span>\n            </button>\n            <button id=\"save-button\" type=\"button\" title=\"Save\" v-show=\"isIPCSupported\" :disabled=\"editorLocked\"\n            :class=\"`btn btn-${buttonColorClass} ms-2`\" @click=\"saveFile\">\n                <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\" stroke-width=\"2\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                        d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\" />\n                </svg> -->\n                <span>Save</span>\n            </button>\n            <button id=\"save-as-button\" type=\"button\" title=\"Save As\" :disabled=\"editorLocked\" :class=\"`btn btn-${buttonColorClass} ms-2`\"\n                @click=\"saveAsFile\">\n                <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\" stroke-width=\"2\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                        d=\"M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3\" />\n                </svg> -->\n                <span>Save As</span>\n            </button>\n            <button type=\"button\" id=\"layout-button\" title=\"Toggle Layout\" :class=\"`btn btn-${buttonColorClass} ms-4`\" @click=\"cycleLayout\">\n                <svg v-if=\"currentLayout === 0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\"\n                    fill=\"currentColor\" class=\"bi bi-layout-sidebar\" viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M0 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm5-1v12h9a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H5zM4 2H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2V2z\" />\n                </svg>\n                <svg v-else-if=\"currentLayout === 1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\"\n                    fill=\"currentColor\" class=\"bi bi-layout-sidebar-reverse\" viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M16 3a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3zm-5-1v12H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h9zm1 0h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-2V2z\" />\n                </svg>\n                <svg v-else-if=\"currentLayout === 2\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\"\n                    fill=\"currentColor\" class=\"bi bi-layout-split\" viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M0 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm8.5-1v12H14a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H8.5zm-1 0H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h5.5V2z\" />\n                </svg>\n            </button>\n            <button id=\"spell-check-button\" type=\"button\" title=\"Toggle Spellcheck\" :disabled=\"editorLocked\"\n                :class=\"`btn btn-${spellCheck ? 'success' : buttonColorClass } ms-2`\" @click=\"toggleSpellCheck\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" class=\"bi bi-spellcheck\"\n                    viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M8.217 11.068c1.216 0 1.948-.869 1.948-2.31v-.702c0-1.44-.727-2.305-1.929-2.305-.742 0-1.328.347-1.499.889h-.063V3.983h-1.29V11h1.27v-.791h.064c.21.532.776.86 1.499.86zm-.43-1.025c-.66 0-1.113-.518-1.113-1.28V8.12c0-.825.42-1.343 1.098-1.343.684 0 1.075.518 1.075 1.416v.45c0 .888-.386 1.401-1.06 1.401zm-5.583 1.035c.767 0 1.201-.356 1.406-.737h.059V11h1.216V7.519c0-1.314-.947-1.783-2.11-1.783C1.355 5.736.75 6.42.69 7.27h1.216c.064-.323.313-.552.84-.552.527 0 .864.249.864.771v.464H2.346C1.145 7.953.5 8.568.5 9.496c0 .977.693 1.582 1.704 1.582zm.42-.947c-.44 0-.845-.235-.845-.718 0-.395.269-.684.84-.684h.991v.538c0 .503-.444.864-.986.864zm8.897.567c-.577-.4-.9-1.088-.9-1.983v-.65c0-1.42.894-2.338 2.305-2.338 1.352 0 2.119.82 2.139 1.806h-1.187c-.04-.351-.283-.776-.918-.776-.674 0-1.045.517-1.045 1.328v.625c0 .468.121.834.343 1.067l-.737.92z\" />\n                    <path\n                        d=\"M14.469 9.414a.75.75 0 0 1 .117 1.055l-4 5a.75.75 0 0 1-1.116.061l-2.5-2.5a.75.75 0 1 1 1.06-1.06l1.908 1.907 3.476-4.346a.75.75 0 0 1 1.055-.117z\" />\n                </svg>\n            </button>\n            <button type=\"button\" id=\"theme-button\" title=\"Toggle Theme\" :class=\"`btn btn-${buttonColorClass} ms-2`\" @click=\"toggleTheme\">\n                <svg v-if=\"currentTheme\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\"\n                    fill=\"currentColor\" class=\"bi bi-layout-sidebar\" viewBox=\"0 0 16 16\">\n                    <path d=\"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z\"/>\n                </svg>\n                <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\"\n                    fill=\"currentColor\" class=\"bi bi-layout-sidebar-reverse\" viewBox=\"0 0 16 16\">\n                    <path d=\"M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z\"/>\n                </svg>\n            </button>\n            <button type=\"button\" id=\"scroll-link-button\" title=\"Toggle Scroll Link\" :class=\"`btn btn-${buttonColorClass} ms-2`\" @click=\"toggleScrollLink\">\n                <svg v-if=\"scrollLink\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 -960 960 960\" width=\"24\" :fill=\"svgFill\"><path d=\"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z\"/></svg>\n                <svg v-else xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 -960 960 960\" width=\"24\" :fill=\"svgFill\"><path d=\"m770-302-60-62q40-11 65-42.5t25-73.5q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 57-29.5 105T770-302ZM634-440l-80-80h86v80h-6ZM792-56 56-792l56-56 736 736-56 56ZM440-280H280q-83 0-141.5-58.5T80-480q0-69 42-123t108-71l74 74h-24q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h65l79 80H320Z\"/></svg>\n            </button>\n            <a class=\"logo ms-auto text-decoration-none noselect\" href=\"https://github.com/sharvenp/md.it\" target=\"_blank\">\n                <div class=\"d-flex\">\n                    <img width=\"40\" class=\"p-1\" src=\"../../public/icon.png\" />\n                    <p class=\"p-auto m-2\">{{ appVersion }}</p>\n                </div>\n            </a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport appInfo from \"../../package\";\n\nexport default {\n    name: \"ToolBarV\",\n    props: {\n        currentLayout: Number,\n        spellCheck: Boolean,\n        currentTheme: Boolean,\n        scrollLink: Boolean,\n        editorLocked: Boolean,\n        isIPCSupported: Boolean\n    },\n    data() {\n        return {\n            appVersion: appInfo.version,\n        };\n    },\n    computed: {\n        buttonColorClass() {\n            return this.currentTheme ? 'light' : 'dark';\n        },\n        svgFill() {\n            return this.currentTheme ? 'black' : 'white';\n        }\n    },\n    methods: {\n        cycleLayout() {\n            this.$emit(\"layout-change\");\n        },\n        openFile() {\n            if (this.editorLocked) return;\n            this.$emit(\"open-file\");\n        },\n        saveFile() {\n            if (this.editorLocked) return;\n            this.$emit(\"save-file\");\n        },\n        saveAsFile() {\n            if (this.editorLocked) return;\n            this.$emit(\"save-as-file\");\n        },\n        toggleSpellCheck() {\n            if (this.editorLocked) return;\n            this.$emit(\"toggle-spell-check\");\n        },\n        toggleTheme() {\n            if (this.editorLocked) return;\n            this.$emit(\"toggle-theme\");\n        },\n        toggleScrollLink() {\n            if (this.editorLocked) return;\n            this.$emit(\"toggle-scroll-link\");\n        }\n    },\n};\n</script>\n","import { render } from \"./ToolBar.vue?vue&type=template&id=003de04f\"\nimport script from \"./ToolBar.vue?vue&type=script&lang=js\"\nexport * from \"./ToolBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/md.it/md.it/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"title-bar\">\n        <div class=\"d-flex flex-row-reverse title-flex-bar\">\n            <button v-if=\"isIPCSupported\" id=\"close-button\" type=\"button\" title=\"Close\" :disabled=\"editorLocked\"  @click=\"onClose\" :class=\"`d-flex align-items-center justify-content-center btn btn-${buttonColorClass}`\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" viewBox=\"0 -960 960 960\" width=\"20\" :fill=\"svgFill\"><path d=\"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z\"/></svg>\n            </button>\n            <button v-if=\"isIPCSupported\" id=\"fullscreen-button\" type=\"button\" title=\"Expand\" :disabled=\"editorLocked\" @click=\"toggleFullScreen\" :class=\"`d-flex align-items-center justify-content-center me-2 btn btn-${buttonColorClass}`\">\n                <svg v-if=\"!maximized\" xmlns=\"http://www.w3.org/2000/svg\" height=\"15\" viewBox=\"0 -960 960 960\" width=\"15\" :fill=\"svgFill\"><path d=\"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0 0v-560 560Z\"/></svg>\n                <svg v-else xmlns=\"http://www.w3.org/2000/svg\" height=\"15\" viewBox=\"0 -960 960 960\" width=\"15\" :fill=\"svgFill\" class=\"unmaximize-icon\"><path d=\"M320-240q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320Zm0-80h480v-480H320v480ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm160-720v480-480Z\"/></svg>\n            </button>\n            <button v-if=\"isIPCSupported\" id=\"minimize-button\" type=\"button\" title=\"Minimize\" :disabled=\"editorLocked\" @click=\"onMinimize\" :class=\"`d-flex align-items-center justify-content-center me-2 btn btn-${buttonColorClass}`\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" viewBox=\"0 -960 960 960\" width=\"20\" :fill=\"svgFill\"><path d=\"M240-120v-80h480v80H240Z\"/></svg>\n            </button>\n            <span v-if=\"isIPCSupported\" class=\"file-name me-auto\">\n                {{ fileName }} {{ modified ? \"*\" : \"\" }}\n            </span>\n        </div>\n    </div>\n</template>\n\n<script>\nimport IPCCommands from \"@/ipcCommands\";\n\nexport default {\n    name: \"TitleBarV\",\n    props: {\n        modified: Boolean,\n        changeKey: String,\n        currentTheme: Boolean,\n        editorLocked: Boolean,\n        isIPCSupported: Boolean\n    },\n    data() {\n        return {\n            fileName: \"\",\n            maximized: false\n        };\n    },\n    computed: {\n        buttonColorClass() {\n            return this.currentTheme ? 'light' : 'dark';\n        },\n        svgFill() {\n            return this.currentTheme ? 'black' : 'white';\n        }\n    },\n    mounted() {\n        this.updateState();\n    },\n    methods: {\n        async ipcCallWrapper(...args) {\n            // call ipcRenderer only if it is defined\n            return await window.ipcRenderer?.call(...args)\n        },\n        async updateState() {\n            if (!this.isIPCSupported) {\n                return;\n            }\n            this.fileName = await this.ipcCallWrapper(IPCCommands.GET_FILENAME)\n            this.maximized = await this.ipcCallWrapper(IPCCommands.GET_MAXIMIZED_STATE)\n        },\n        async onClose() {\n            if (!this.isIPCSupported) {\n                return;\n            }\n            await this.ipcCallWrapper(IPCCommands.CLOSE)\n        },\n        async toggleFullScreen() {\n            if (!this.isIPCSupported) {\n                return;\n            }\n            if (this.maximized) {\n                await this.ipcCallWrapper(IPCCommands.UNMAXIMIZE)\n            } else {\n                await this.ipcCallWrapper(IPCCommands.MAXIMIZE)\n            }\n        },\n        async onMinimize() {\n            if (!this.isIPCSupported) {\n                return;\n            }\n            await this.ipcCallWrapper(IPCCommands.MINIMIZE)\n        },\n    },\n    watch: {\n        changeKey() {\n            this.updateState()\n        }\n    }\n};\n</script>\n","const IPCCommands = {\n    GET_OPEN_DATA: \"GET_OPEN_DATA\",\n    SET_MODIFIED: \"SET_MODIFIED\",\n    OPEN_FILE: \"OPEN_FILE\",\n    SAVE_FILE: \"SAVE_FILE\",\n    SAVE_AS_FILE: \"SAVE_AS_FILE\",\n    GET_PREFERENCES: \"GET_PREFERENCES\",\n    SET_PREFERENCES: \"SET_PREFERENCES\",\n    GET_FILENAME: \"GET_FILENAME\",\n    GET_MAXIMIZED_STATE: \"GET_MAXIMIZED_STATE\",\n    CLOSE: \"CLOSE\",\n    MINIMIZE: \"MINIMIZE\",\n    MAXIMIZE: \"MAXIMIZE\",\n    UNMAXIMIZE: \"UNMAXIMIZE\",\n}\n\nexport default IPCCommands;","import { render } from \"./TitleBar.vue?vue&type=template&id=4ee58ea4\"\nimport script from \"./TitleBar.vue?vue&type=script&lang=js\"\nexport * from \"./TitleBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/md.it/md.it/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Editor.vue?vue&type=template&id=017266c7\"\nimport script from \"./Editor.vue?vue&type=script&lang=js\"\nexport * from \"./Editor.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/md.it/md.it/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=3076b12a\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/md.it/md.it/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport \"./assets/main.css\"\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap\";\nimport \"splitpanes/dist/splitpanes.css\";\n\nconst app = createApp(App);\n\napp.mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/md.it/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmd_it\"] = self[\"webpackChunkmd_it\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(6733); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_EditorV","class","id","ref","_createElementBlock","_createElementVNode","_component_TitleBarV","key","$data","changeKey","modified","editorLocked","isIPCSupported","_createVNode","_component_splitpanes","$options","_component_pane","_component_codemirror","$event","style","placeholder","autofocus","extensions","disabled","onReady","$setup","onChange","innerHTML","_component_ToolBarV","currentLayout","spellCheck","currentTheme","scrollLink","onToggleSpellCheck","onLayoutChange","onOpenFile","onSaveFile","onSaveAsFile","onToggleTheme","onToggleScrollLink","_hoisted_4","_hoisted_7","_hoisted_10","xmlns","width","height","fill","viewBox","d","_hoisted_13","_hoisted_16","_hoisted_19","_hoisted_22","_hoisted_25","_hoisted_28","_hoisted_31","_hoisted_34","href","target","src","_imports_0","type","title","$props","onClick","_hoisted_14","_hoisted_17","_hoisted_20","_hoisted_26","_hoisted_29","_hoisted_38","_toDisplayString","name","props","Number","Boolean","data","appVersion","appInfo","computed","buttonColorClass","this","svgFill","methods","cycleLayout","$emit","openFile","saveFile","saveAsFile","toggleSpellCheck","toggleTheme","toggleScrollLink","__exports__","_hoisted_5","_hoisted_9","_hoisted_12","IPCCommands","GET_OPEN_DATA","SET_MODIFIED","OPEN_FILE","SAVE_FILE","SAVE_AS_FILE","GET_PREFERENCES","SET_PREFERENCES","GET_FILENAME","GET_MAXIMIZED_STATE","CLOSE","MINIMIZE","MAXIMIZE","UNMAXIMIZE","String","fileName","maximized","mounted","updateState","async","args","window","ipcRenderer","call","ipcCallWrapper","watch","components","Codemirror","TitleBarV","ToolBarV","Splitpanes","Pane","inputText","titleBarKey","fileOpened","renderer","undefined","md","scrollMap","scrollLock","setup","createCustomKeyMod","mod","insertChar","handler","state","dispatch","changes","changeByRange","range","isAppliedBefore","sliceDoc","from","length","isAppliedAfter","to","push","insert","Text","extendBefore","extendAfter","EditorSelection","update","scrollIntoView","annotations","Transaction","toUpperCase","run","toLowerCase","codemirrorView","shallowRef","handleReady","payload","value","view","markdown","EditorView","keymap","compiledMarkdown","DOMPurify","render","showLeftPane","showRightPane","codemirrorExtensions","oneDark","created","userPreferences","getPreferences","updateSpellCheck","updateTheme","setupListeners","MarkdownIt","linkify","use","MarkdownitSup","MarkdownItInjectLineNumbers","MarkdownitSub","MarkdownitEmoji","MarkdownitCheckbox","node","setAttribute","document","onkeydown","prevent","e","ctrlKey","code","shiftKey","getElementById","focus","preventDefault","addEventListener","Math","random","toString","_setupScrollEventListeners","viewFunc","event","syncEditorScroll","editorFunc","syncViewerScroll","$refs","viewer","removeEventListener","scrollDOM","resetScroll","scrollTo","top","behavior","editorScroller","setTimeout","buildScrollMap","editor","preview","offset","scrollTop","offsetTop","_scrollMap","Array","doc","lines","editorLines","children","map","x","text","flat","forEach","str","i","querySelector","floor","matches","el","min","MAX_VALUE","els","querySelectorAll","abs","getBoundingClientRect","lineNo","parseInt","dataset","sourceLine","defaultLineHeight","editorTopHeight","lineBlockAtHeight","topLineNo","lineAt","number","onInputUpdate","inputEl","createElement","accept","display","onchange","files","file","reader","FileReader","readAsText","onload","result","remove","oncancel","click","fileBlob","Blob","fileNameToSaveAs","downloadLink","download","webkitURL","createObjectURL","URL","onclick","body","appendChild","$nextTick","updatePreferences","onSpellCheckToggle","onThemeToggle","onScrollLinkToggle","contentDOM","spellcheck","documentElement","className","JSON","parse","localStorage","getItem","preferences","setItem","stringify","EditorV","app","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}